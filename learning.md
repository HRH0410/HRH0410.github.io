# Learning Log

## 目的
- 记录我在会话中的错误，避免重复犯错。
- 记录你的稳定偏好，后续默认按偏好执行。
- 每次会话结束后更新一次，作为长期工作记忆。

## 更新规则
1. 先写错误，再写偏好。
2. 每条错误都要包含：`错误 -> 影响 -> 修正动作 -> 防复发规则`。
3. 只记录可执行、可验证的结论，不写空泛总结。

## 用户偏好（持续生效）
- 交流语言：中文。
- 风格偏好：克制、简洁、统一，不要“过度设计”或“花哨”。
- 视觉偏好：页面需要优雅高级，但要和现有主页风格一致。
- 页面改版偏好：先做“收敛优化”（统一层级、弱化装饰、提升可读性），再决定是否加表现力。
- 修改偏好：按你的明确指令做“最小改动”，不要顺手改其它部分。
- 写作偏好：可以简短，但希望有思考深度，并和你本人经历/气质强关联。
- 工作方式偏好：希望我能沉淀经验并持续记忆（本文件即为承载）。
- 版面控制偏好：固定导航不改时，正文/标题应主动做顶部避让，避免遮挡。
- 局部设计偏好：信息卡更偏“正文内嵌注记”，不要突兀大卡片。
- 图片偏好：人像裁切偏“近正方形”，避免过扁或过高。
- 文案偏好：避免生硬概念词（如“中枢”），更自然、更口语化。
- 简洁偏好：不需要的副文案/胶囊信息应直接去掉，优先留白。
- 动效偏好：允许有趣，但不能引入错位、抖动、灰雾感。
- 交互偏好：列表项悬浮不出现蓝色下划线，保持干净反馈。

## 错误复盘

### 2026-02-07（当前会话）
- 错误：你说要改“项目”页面时，我先改到了 `about` 页面。
  - 影响：改动位置错误，浪费了你的沟通成本。
  - 修正动作：创建并改用 `/Users/huang/Documents/HRH0410.github.io/content/projects/_index.md` 作为项目页源文件，按你指定仓库重做内容。
  - 防复发规则：涉及“某一页面”修改时，先定位该页面源文件并回报路径，再动手改。

- 错误：你说“只改这个背景”时，我一度按“首页整体动态策略”理解，方向偏了。
  - 影响：你需要再次澄清，降低协作效率。
  - 修正动作：恢复其它元素，仅对 `#background-image` 添加/微调动效。
  - 防复发规则：当你说“只改 X”时，只动 X；其余元素不调整、不优化。

- 错误：项目页第一版视觉改得偏重，与你“克制高级”的主站气质不一致。
  - 影响：页面观感“怪”，与你预期偏差明显。
  - 修正动作：改成低对比、低动效、低装饰版本，保留信息层级。
  - 防复发规则：默认先出“克制版”，只有你明确要求再增加视觉表现力。

- 错误：文章标题被固定导航遮挡，初版未提前处理文章页顶部安全间距。
  - 影响：首屏阅读体验受损，观感不专业。
  - 修正动作：在全局样式中为文章页 `#single_header` 增加顶部避让，兼顾移动端。
  - 防复发规则：凡站点存在固定导航，新增文章模板/样式时先校验“首屏标题不被挡”。

- 错误：文章内图片路径使用了 `assets` 相对路径，导致前台裂图。
  - 影响：关键信息卡视觉失效。
  - 修正动作：将图片放入 `static/img` 并改为站点绝对路径引用（如 `/img/Curry.jpg`）。
  - 防复发规则：Markdown/HTML 正文图片默认走 `static` 可发布路径，不直接引用 `assets` 相对路径。

- 错误：中文字数显示异常（31 字），初始未开启 CJK 统计。
  - 影响：文章元信息错误，影响可信度。
  - 修正动作：在 `config/_default/hugo.toml` 启用 `hasCJKLanguage = true` 并重建验证。
  - 防复发规则：中文站点初始化时默认检查并开启 CJK 计数配置。

- 错误：标签已从源文件删除，但标签页仍显示旧标签（静态残留未清）。
  - 影响：前台与源内容不一致，造成“删不掉”的错觉。
  - 修正动作：清理 `public/tags/*` 残留并重建（必要时使用 `--cleanDestinationDir`）。
  - 防复发规则：涉及 taxonomy 删除时，必须增加“残留产物清理 + 重建后核验”步骤。

### 2026-02-08（学习笔记样式定稿）
- 错误：着重框（admonition）多次配色过重、风格突兀，不符合“优雅克制”。
  - 影响：页面割裂感强，你连续否定视觉方案。
  - 修正动作：改为中性纸面风（近白底、细边框、低对比文本、无厚阴影），并统一深色模式。
  - 防复发规则：默认不用高饱和色块类强调框，优先中性色信息框。

- 错误：在 blockquote-admonition 内使用 `###` / `####` 导致出现 `#` 显示异常。
  - 影响：内容观感不专业，影响阅读连续性。
  - 修正动作：改用 `**加粗标题**` + 段落结构，不在提示框里嵌套 markdown 标题层级。
  - 防复发规则：admonition 内默认只用加粗小标题，不用井号标题。

- 错误：给技术图统一加大圆角+阴影，导致示意图“怪”和失真。
  - 影响：图文风格不一致，技术内容显得不干净。
  - 修正动作：对 `/img/posts/transformer/` 技术图禁用卡片化阴影，仅保留极轻圆角。
  - 防复发规则：技术示意图默认“直角/无阴影”，生活图或头像才用卡片化视觉。

### 2026-02-09（频道页/项目页收敛）
- 错误：在 `/posts/` 入口卡片里加入了位移+模糊等动效，导致你感知到“错位”。
  - 影响：视觉不稳定，降低页面质感。
  - 修正动作：改为纯淡入；再进一步去掉造成错位错觉的内框偏移与初始旋转。
  - 防复发规则：卡片首屏动效默认仅用 `opacity`，涉及 `transform/blur` 需谨慎并先做最小量。

- 错误：我把“文字贴边”问题先做了浅层调整，第一次改动体感不明显。
  - 影响：你反馈“没变化”，多一次沟通回合。
  - 修正动作：改到真正生效层（`.branch-card-content`）并单独加大左内边距。
  - 防复发规则：处理间距问题时优先改内容容器，不只改外层卡片壳。

- 错误：频道列表 hover 保留了默认链接下划线（蓝线），不符合你的审美。
  - 影响：悬浮状态突兀、破坏整体风格。
  - 修正动作：对 `.channel-item .article-link--simple a:hover` 显式禁用下划线。
  - 防复发规则：自定义卡片链接默认关闭文本下划线，仅保留颜色/位移反馈。

- 错误：项目页改版后仍保留了你不需要的文案与胶囊信息。
  - 影响：页面冗余，不够简洁。
  - 修正动作：删除“引导句/代表项目/胶囊”等装饰文案，仅保留项目卡主体。
  - 防复发规则：你说“去掉”时，相关文案与对应样式一并清理，避免残留。

## 学习笔记标准格式（后续默认）
1. Front matter
   - `title`：明确主题（如“Transformer 学习笔记”）
   - `tags`：默认仅保留核心标签（你当前偏好：`数字花园`）
   - `showTableOfContents = true`
   - 启用数学：`{{< katex >}}`
2. 正文结构
   - 先讲“背景/动机”
   - 再讲“核心机制与流程”
   - 最后“总结与常见误区/补充”
   - 二级标题清晰、三级标题适度，避免过深层级
3. 公式规范
   - 行内公式：`\(...\)`
   - 块级公式：`$$...$$`
   - 变量与维度统一符号，不混写
4. 图片规范
   - 每张图配图注（title -> figcaption）
   - 横图自动缩小，长图额外缩小
   - 技术图不加重阴影，不做花哨修饰
5. 重点框规范
   - 可用 `[!IMPORTANT]`，但只用中性色纸面风
   - 框内小节用 `**加粗标题**`，不用 `###`
6. 发布前检查
   - 标题不被固定导航遮挡
   - 公式、图注、图片路径正常
   - 字数统计正确（CJK）
   - 清理构建并核对页面（必要时 `--cleanDestinationDir`）

## 会话追加模板
```
### YYYY-MM-DD（会话主题）
- 错误：...
  - 影响：...
  - 修正动作：...
  - 防复发规则：...

- 新偏好：...
  - 触发条件：...
  - 默认执行：...
```
